{% extends 'dashbase.html.twig' %}
{% block nav %}

    <div class="sidebar-wrapper">
        <ul class="nav">
            <li class="nav-item  ">
                <a class="nav-link" href="{{ asset('categorie') }}">
                    <i class="material-icons">person</i>
                    <p>Categories</p>
                </a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="{{ asset('produit') }}">
                    <i class="material-icons">content_paste</i>
                    <p>Products</p>
                </a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="{{ asset('promo') }}">
                    <i class="material-icons">library_books</i>
                    <p>Promo</p>
                </a>
            </li>
            <li class="nav-item active ">
                <a class="nav-link" href="{{path('show_commandes')}}">
                    <i class="material-icons">bubble_chart</i>
                    <p>Orders</p>
                </a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="{{ asset('event') }}">
                    <i class="material-icons">bubble_chart</i>
                    <p>Events</p>
                </a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="{{ path('velo_index') }}">
                    <i class="material-icons">location_ons</i>
                    <p>Bikes</p>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ path('facture_index') }}">
                    <i class="material-icons">person</i>
                    <p>Bills</p>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ path('veloR_index') }}">
                    <i class="material-icons">content_paste</i>
                    <p>Broken Bikes</p>
                </a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="{{ path('reparateur_index') }}">
                    <i class="material-icons">library_books</i>
                    <p>Repairers</p>
                </a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="{{ path('location_index1') }}">
                    <i class="material-icons">location_ons</i>
                    <p>location</p>
                </a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="{{  path('listeu') }}">
                    <i class="material-icons">location_ons</i>
                    <p>Show les articles</p>
                </a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="{{  path('addu') }}">
                    <i class="material-icons">location_ons</i>
                    <p>Add Article</p>
                </a>
            </li>
        </ul>

    </div>
{% endblock %}

{% block content %}


    <div class="content">
    <div class="container-fluid">
    <div class="row">
    <div class="col-md-12">
    <div class="card">
    <div class="card-header card-header-primary">
        <h4 class="card-title ">Order info</h4>
        <p class="card-category">check this order info here</p>
    </div>
    <div class="card-body">
    <div class="table-responsive">
    <table class="table">

        <thead class="text-primary">
        <tr >
            <th scope="col" >Product</th>
            <th scope="col" >Type produit</th>
            <th scope="col">Quantity</th>
            <th scope="col">Price</th>




        </tr>
        </thead>
        <tbody>
        {% for c in commande %}
            <tr class="w3-red">
                <td>{{ c.produit.nom}}</td>
                <td>{{ c.produit.type}}</td>
                <td> {{ c.quantite }}</td>
                <td>{{c.produit.prix * c.quantite }}</td>


            </tr>
        {% endfor %}
        </tbody>
        <tfoot>
        <tr>
            <td colspan="3" class="text-lg-right">Total:</td>
            <td>{{ commande[0].commande.totale }}</td>
            <td></td>
        </tr>
        </tfoot>
    </table>

    </div>




    {% if (commande[0].commande.status =="Livre") %}
        <h2>Cette commande est déjà affectee a {{ commande[0].commande.livreur.nom }}</h2>
    {% else %}
        <h2>Choisir un livreur Disponible</h2>
        <form method="post" action="">
            <label for="Livreur">choisissez un livreur:</label>

            <select name="Livreur" >
                <option value="">--Choisir un livreur--</option>
                {% for l in livreur %}
                    <option  value="{{ l.id }}"  name="Livreur">{{ l.nom }}</option>
                {% endfor %}
            </select>

            <input type="submit" value="Affecter" class="btn">


            <canvas id="canvas"></canvas>


        </form>
        <style>

            @import 'https://fonts.googleapis.com/css?family=Source+Sans+Pro:300';

            *{
                font-family: 'Source Sans Pro', sans-serif;
                box-sizing: border-box;
                font-weight: 300;
                padding: 0;
                margin: 0;
            }

            .btn-wrapper{
                position: fixed;
                top: calc(50% - 22px);
                left: 0;
                width: 100%;
                text-align: center;
            }

            .btn{
                display: inline-block;
                box-shadow: none;
                appearance: none;
                border: 0;
                outline: 0;
                background-color: #66615b;
                height: 45px;
                line-height: 42px;
                padding: 0 30px;
                font-size: 20px;
                border-radius: 30px;
                color: black;
                cursor: pointer;
                transition: all .5s;
                transition-timing-function: cubic-bezier(.2, 3, .4, 1);
                user-select: none;

            &:hover{
                 transform: scale(1.1, 1.1);
             }

            &:active{
                 transform: scale(1.05, 1.05);
             }
            }
            /* Ajout d'une petire image de fond juste pour le fun */
            body {
                font-family: 'Lato', sans-serif;
                color: #555555;
                background: lightgrey;
                background-repeat: no-repeat;
                background-size: cover;
            }


            /*Pas important, juste pour positioner la liste déroulante en milieude page */
            .bloc {
                display: flex;
                flex-direction: column;
                align-items : center;
                justify-content: center;
                height: 100vh;
            }

            /*Réinitilaisation de la liste déroulante*/
            select {
                appearance: none;
                outline: 0;
                border: 0 !important;
                background: #F9F9F9;
                background-image: none;
                box-shadow: none;
                font-size: 1.2em;
            }

            /*Ajout des couleurs de fond pour chaque option */
            select option[value="1"] {
                background: #2E6DB4;
                color: white;
            }

            select option[value="2"] {
                background: #107C11;
                color: white;
            }

            select option[value="3"] {
                background: #E70009;
                color: white;
            }

            select option[value="4"] {
                background: black;
                color: white;
            }

            /* Mise en forme de la div .select*/
            .select {
                position: relative;
                width: 350px;
                height: 45px;
                overflow: hidden;
                border-radius: 5px;
                border: 1px solid #CED4DA;
            }

            /* Mise en forme de la balise select*/
            select {
                width: 100%;
                height: 100%;
                margin: 0;
                padding-left: 15px;
                color: #555555;
                cursor: pointer;
            }


            /* Mise en place de la flèche */
            .select::after {
                content: '\276F';
                position: absolute;
                top: 20%;
                right: 0;
                padding: 0 15px;
                background: white;
                pointer-events: none;
                transform: rotate(90deg);
                font-size: 1.5em;
                background: #F9F9F9;
            }


            .select:hover::after {
                color: #FA6141;
            }

        </style>
    {% endif %}
    </div>
    </div>
    </div>
    </div>
    </div>
    </div>
{% endblock %}